org &2000

.start
	assert TRUE
	assert 65==65

	\ You can assert multiple things if you wish: 
	assert start == &2000, loop == start + 4
	assert 1+2==3, 2+2 == 5 \ The second expression is clearly false and
	                        \ compilation will fail with an error message
                            \ showing the line and identifying the second
                            \ expression as failing.

	ldy #addr_offset
	ldx #0
.loop
	lda (&70),y
	sta &3000,x
	iny
	inx
	cpx #4
	bne loop
	rts

.end

org &9000
.some_object
for i, 0, 253
	equb 0
next
.addr
	equd 0
addr_offset = addr - some_object

save "test", start, end
